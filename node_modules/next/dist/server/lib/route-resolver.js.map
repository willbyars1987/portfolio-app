{"version":3,"sources":["../../../src/server/lib/route-resolver.ts"],"names":["makeResolver","debug","setupDebug","dir","nextConfig","middleware","hostname","port","fsChecker","setupFsCheck","dev","minimalMode","config","appDir","pagesDir","findPagesDir","fetchHostname","formatHostname","ensureCallback","item","result","type","Error","findPageFile","itemPath","pageExtensions","distDir","path","join","middlewareInfo","name","paths","files","map","file","process","cwd","wasm","assets","length","middlewareMatcher","getMiddlewareRouteMatcher","matcher","regexp","originalSource","resolveRoutes","getResolveRoutes","isNodeDebugging","workerType","pages","initialize","requestHandler","req","res","headers","cloneableBody","getCloneableBody","run","require","edgeFunctionEntry","request","method","i18n","basePath","trailingSlash","url","body","signal","signalFromNodeResponse","useCache","onWarning","console","warn","err","upgradeHandler","deleteAppClientCache","deleteCache","clearModuleContext","propagateServerField","resolveRoute","routeResult","isUpgradeReq","matchedOutput","bodyStream","statusCode","parsedUrl","resHeaders","finished","pathname","query","key","Object","keys","setHeader","destination","format","PERMANENT_REDIRECT_STATUS","end","pipeReadable","protocol","getRequestMeta","proxyRequest","undefined","cloneBodyStream","experimental","proxyTimeout"],"mappings":"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"}